<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static' , filename = 'css/style.css')}}">
    <title>PR SECURE SOLUTIONS - RESET PASSWORD</title>
    <link rel="icon" type="images/x-icon" href="https://cdn4.iconfinder.com/data/icons/social-messaging-ui-color-and-shapes-1/177800/01-1024.png" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css" rel="stylesheet">
    <link href="https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css" rel="stylesheet"/>
    <!--
   * @author Yasiru
   * contact me : https://linktr.ee/yasiruchamuditha for more information.
   -->
</head>
<body style="background: url(static/images/4register.png); background-size: cover;">
    {% include 'nav.html' %}
    <div class="container-fluid" id="containerm" style="margin-bottom: 200px;">
    <h2>RESET PASSWORD</h2>
         <!-- flashed messages code -->
         {% with messages = get_flashed_messages() %}
         {% if messages %}
             <ul class="feedback-messages">
                 {% for message in messages %}
                     <li>{{ message }}</li>
                 {% endfor %}
             </ul>
    
             <script>
                 // Function to show the alert popup
                 function showAlert(message) {
                     var alertPopup = document.getElementById("alert-popup");
                     alertPopup.textContent = message;
                     alertPopup.style.display = "block";
             
                     // Hide the popup after 5 seconds 
                     setTimeout(function () {
                         alertPopup.style.display = "none";
                     }, 5000); // 5000 milliseconds = 5 seconds
                 }
             
                 // Check if there are flashed messages
                 var messages = document.querySelectorAll(".feedback-messages li");
                 if (messages.length > 0) {
                     // Display each flashed message as an alert
                     messages.forEach(function (messageElement) {
                         showAlert(messageElement.textContent);
                     });
                 }
             </script>
         {% endif %}
         {% endwith %}
    
         <!-- popup -->
        <div id="alert-popup" class="alert-popup"></div>
    <form method="POST">
        <div class="inputfeild mt-3">
            <label class="form-label mb-2">Password:</label>
            <div class="input-group">
                <input type="password" class="form-control" name="txtPassword" id="txtPassword" placeholder="Enter Password" required>
                <button type="button" class="btn btn-outline-secondary" id="showPasswordBtn">
                    <i class="bx bx-hide show-hide"></i>
                </button>
            </div>
            <span id="Password_Error"></span>
        </div>

        <div class="inputfeild mt-3">
            <label class="form-label mb-2">Confirm Password:</label>
            <div class="input-group">
                <input type="password" class="form-control" name="txtConfirm_Password" id="txtConfirm_Password" placeholder="Please Confirm Password" required>
                <button type="button" class="btn btn-outline-secondary" id="showConfirmPasswordBtn">
                    <i class="bx bx-hide show-hide"></i>
                </button>
            </div>
            <span id="Confirm_Password_Error"></span>
        </div>
        <button type="submit" class="btn btn-outline-secondary btn-lg " id="btnSubmit" name="btnSubmit" >Reset Password</button>
    </form>
</div>
    {% include 'footer.html' %}
    <script>
        // Function to toggle password visibility
        function togglePasswordVisibility(inputId, buttonId) {
            const passwordInput = document.getElementById(inputId);
            const showHideButton = document.getElementById(buttonId);
  
            if (passwordInput.type === "password") {
                passwordInput.type = "text";
                showHideButton.innerHTML = '<i class="bx bx-show show-hide"></i>';
            } else {
                passwordInput.type = "password";
                showHideButton.innerHTML = '<i class="bx bx-hide show-hide"></i>';
            }
        }
  
        // Event listeners for the show/hide buttons
        document.getElementById("showPasswordBtn").addEventListener("click", function () {
            togglePasswordVisibility("txtPassword", "showPasswordBtn");
        });
  
        document.getElementById("showConfirmPasswordBtn").addEventListener("click", function () {
            togglePasswordVisibility("txtConfirm_Password", "showConfirmPasswordBtn");
        });
    </script>
  
</body>
</html>
